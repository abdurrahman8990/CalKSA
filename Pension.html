<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <!-- باقي الـ head كما هو بدون تغيير -->
    <style>
        /* أضف هذا في قسم الـ styles */
        .back-btn {
            margin-top: 20px;
            transition: all 0.3s;
        }
        .back-btn:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <!-- باقي الجسم كما هو حتى قسم النتائج -->
    
    <div class="result-box" id="resultBox">
        <h4 class="text-center">الراتب التقاعدي المتوقع</h4>
        <div class="text-center fs-2 fw-bold" id="result" style="color: var(--lavender-dark);"></div>
        <div class="text-center mt-2">ريال سعودي</div>
        <div class="text-center mt-4">
            <a href="index.html" class="btn btn-purple back-btn">
                <i class="fas fa-arrow-left me-2"></i> العودة للصفحة الرئيسية
            </a>
        </div>
    </div>
    <!-- تم إزالة الـ div الزائد هنا -->
</div>

<script>
    // الكود المعدل مع تحسينات إضافية
    document.getElementById('pensionForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const formData = new FormData(this);
        const salary = parseFloat(document.getElementById('salary').value) || 0;
        const years = parseInt(document.getElementById('years').value) || 0;
        const months = parseInt(document.getElementById('months').value) || 0;
        
        const totalMonths = (years * 12) + months;
        const pension = totalMonths > 0 ? (salary * totalMonths) / 480 : 0;
        
        document.getElementById('result').textContent = pension.toFixed(2);
        document.getElementById('resultBox').style.display = 'block';
        
        // إرسال البيانات بدون التأثير على تجربة المستخدم
        fetch("/", {
            method: "POST",
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            body: new URLSearchParams(formData).toString()
        }).then().catch(error => console.log('Form submission logged'));
        
        // Scroll إلى النتيجة
        document.getElementById('resultBox').scrollIntoView({ behavior: 'smooth' });
    });
</script>
